<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前置 | @luminous/docs</title>
    <meta name="description" content="基于 vitepress 实现">
    <link rel="preload stylesheet" href="/my-blog/assets/style.c528e86e.css" as="style">
    <script type="module" src="/my-blog/assets/app.de403638.js"></script>
    <link rel="preload" href="/my-blog/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/my-blog/assets/chunks/framework.a7041386.js">
  <link rel="modulepreload" href="/my-blog/assets/chunks/theme.e5c20b03.js">
  <link rel="modulepreload" href="/my-blog/assets/前端工程化_Vite 初探.md.4db9e488.lean.js">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body><!--v-if--><!--teleport anchor-->
    <div id="app"><div class="Layout" data-v-0da2a2cb data-v-2560bc03><!--[--><!----><!--[--><div class="theme-blog-popover" style="display:none;" data-pagefind-ignore="all" data-v-9c336805><div class="header" data-v-9c336805><div class="title-wrapper" data-v-9c336805><i class="el-icon" style="font-size:20px;" data-v-9c336805><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" data-v-9c336805><path fill="currentColor" d="M288 128h608L736 384l160 256H288v320h-96V64h96v64z"></path></svg><!--]--></i><span class="title" data-v-9c336805></span></div><i class="el-icon close-icon" style="font-size:20px;" data-v-9c336805><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" data-v-9c336805><path fill="currentColor" d="M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"></path></svg><!--]--></i></div><!----><div class="footer content" data-v-9c336805><!--[--><!--]--></div></div><div class="theme-blog-popover-close" style="display:none;" data-v-9c336805><i class="el-icon" style="font-size:20px;" data-v-9c336805><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" data-v-9c336805><path fill="currentColor" d="M288 128h608L736 384l160 256H288v320h-96V64h96v64z"></path></svg><!--]--></i></div><!--]--><!--]--><!--[--><span tabindex="-1" data-v-aa2fbcc0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-aa2fbcc0> Skip to content </a><!--]--><!----><header class="VPNav" data-v-2560bc03 data-v-eb271c3d><div class="VPNavBar has-sidebar" data-v-eb271c3d data-v-47863838><div class="container" data-v-47863838><div class="title" data-v-47863838><div class="VPNavBarTitle has-sidebar" data-v-47863838 data-v-b44537a1><a class="title" href="/my-blog/" data-v-b44537a1><!--[--><!--]--><!--[--><img class="VPImage logo" src="/my-blog/logo.png" alt data-v-db8c3c1e><!--]--><!--[-->@luminous/docs<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-47863838><div class="curtain" data-v-47863838></div><div class="content-body" data-v-47863838><!--[--><!--[--><!--[--><div class="blog-search" data-pagefind-ignore="all" data-v-0da2a2cb style="--774f5a87:1;" data-v-41ddad83><div class="nav-search-btn-wait" data-v-41ddad83><svg width="14" height="14" viewBox="0 0 20 20" data-v-41ddad83><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" data-v-41ddad83></path></svg><span class="search-tip" data-v-41ddad83>搜索</span><span class="metaKey" data-v-41ddad83> K </span></div><!--teleport start--><!--teleport end--></div><!--]--><!--]--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-47863838><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-47863838 data-v-c0bafe63><span id="main-nav-aria-label" class="visually-hidden" data-v-c0bafe63>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/my-blog/" tabindex="0" data-v-c0bafe63 data-v-81e9440d><!--[-->首页<!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/my-blog/sop/introduce.html" tabindex="0" data-v-c0bafe63 data-v-81e9440d><!--[-->关于我<!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-47863838 data-v-3a33ae6c><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-3a33ae6c data-v-c800e9bf data-v-6cf3aa60><span class="check" data-v-6cf3aa60><span class="icon" data-v-6cf3aa60><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-c800e9bf><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-c800e9bf><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-47863838 data-v-97b026da data-v-5773fe44><!--[--><a class="VPSocialLink" href="https://github.com/jiacheng-coder" aria-label="github" target="_blank" rel="noopener" data-v-5773fe44 data-v-bda1ebd9><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-47863838 data-v-7e48b6b8 data-v-190b3c79><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-190b3c79><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-190b3c79><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-190b3c79><div class="VPMenu" data-v-190b3c79 data-v-05f637ea><!----><!--[--><!--[--><!----><div class="group" data-v-7e48b6b8><div class="item appearance" data-v-7e48b6b8><p class="label" data-v-7e48b6b8>Appearance</p><div class="appearance-action" data-v-7e48b6b8><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-7e48b6b8 data-v-c800e9bf data-v-6cf3aa60><span class="check" data-v-6cf3aa60><span class="icon" data-v-6cf3aa60><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-c800e9bf><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-c800e9bf><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-7e48b6b8><div class="item social-links" data-v-7e48b6b8><div class="VPSocialLinks social-links-list" data-v-7e48b6b8 data-v-5773fe44><!--[--><a class="VPSocialLink" href="https://github.com/jiacheng-coder" aria-label="github" target="_blank" rel="noopener" data-v-5773fe44 data-v-bda1ebd9><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-47863838 data-v-c9cd37cf><span class="container" data-v-c9cd37cf><span class="top" data-v-c9cd37cf></span><span class="middle" data-v-c9cd37cf></span><span class="bottom" data-v-c9cd37cf></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-2560bc03 data-v-d68ad0de><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-d68ad0de><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-d68ad0de><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-d68ad0de>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-d68ad0de data-v-6384b7b5><button data-v-6384b7b5>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-2560bc03 data-v-1a24e3a8><div class="curtain" data-v-1a24e3a8></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-1a24e3a8><span class="visually-hidden" id="sidebar-aria-label" data-v-1a24e3a8> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-1a24e3a8><div class="VPSidebarItem level-0" data-v-1a24e3a8 data-v-1cbae177><!----><!----></div></div><!--]--><!--[--><!--[--><div class="sidebar" data-pagefind-ignore="all" data-v-0da2a2cb data-v-a3f15914><div class="card recommend" data-pagefind-ignore="all" data-v-a3f15914 data-v-71d9b576><div class="card-header" data-v-71d9b576><span class="title" data-v-71d9b576>🔍 相关文章</span><!----></div><ol class="recommend-container" data-v-71d9b576><!--[--><li data-v-71d9b576><i class="num" data-v-71d9b576>1</i><div class="des" data-v-71d9b576><a class="el-link el-link--info is-underline title current" href="/my-blog/前端工程化/Vite 初探" data-v-71d9b576><!--v-if--><span class="el-link__inner"><!--[-->前置<!--]--></span><!--v-if--></a><div class="suffix" data-v-71d9b576><span class="tag" data-v-71d9b576>10秒前</span></div></div></li><li data-v-71d9b576><i class="num" data-v-71d9b576>2</i><div class="des" data-v-71d9b576><a class="el-link el-link--info is-underline title" href="/my-blog/前端工程化/Webpack初探" data-v-71d9b576><!--v-if--><span class="el-link__inner"><!--[-->Webpack 初探<!--]--></span><!--v-if--></a><div class="suffix" data-v-71d9b576><span class="tag" data-v-71d9b576>10秒前</span></div></div></li><li data-v-71d9b576><i class="num" data-v-71d9b576>3</i><div class="des" data-v-71d9b576><a class="el-link el-link--info is-underline title" href="/my-blog/前端工程化/起源" data-v-71d9b576><!--v-if--><span class="el-link__inner"><!--[-->起源<!--]--></span><!--v-if--></a><div class="suffix" data-v-71d9b576><span class="tag" data-v-71d9b576>10秒前</span></div></div></li><!--]--></ol></div></div><!--]--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-pagefind-body data-v-2560bc03 data-v-5c2cf82f><div class="VPDoc has-sidebar has-aside" data-v-5c2cf82f data-v-7be6d394><!--[--><!--]--><div class="container" data-v-7be6d394><div class="aside" data-v-7be6d394><div class="aside-curtain" data-v-7be6d394></div><div class="aside-container" data-v-7be6d394><div class="aside-content" data-v-7be6d394><div class="VPDocAside" data-v-7be6d394 data-v-24267604><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-24267604 data-v-2e24fddd><div class="content" data-v-2e24fddd><div class="outline-marker" data-v-2e24fddd></div><div class="outline-title" data-v-2e24fddd>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-2e24fddd><span class="visually-hidden" id="doc-outline-aria-label" data-v-2e24fddd> Table of Contents for current page </span><ul class="root" data-v-2e24fddd data-v-adca1247><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-24267604></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-7be6d394><div class="content-container" data-v-7be6d394><!--[--><!--[--><!--[--><!----><!----><!--]--><!--]--><!--]--><!----><main class="main" data-v-7be6d394><div style="position:relative;" class="vp-doc _my-blog_%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96_Vite%20%E5%88%9D%E6%8E%A2" data-v-7be6d394><div><ol><li>vite 的前世今生</li><li>vite的编译结果及其分析</li><li>vite的配置文件</li><li>vite中处理CSS，静态资源，TS</li><li>vite的插件以及常用用插件的使用</li><li>vite构建原理</li></ol><h1 id="前置" tabindex="-1">前置 <a class="header-anchor" href="#前置" aria-label="Permalink to &quot;前置&quot;">​</a></h1><h2 id="什么是构建工具" tabindex="-1">什么是构建工具 <a class="header-anchor" href="#什么是构建工具" aria-label="Permalink to &quot;什么是构建工具&quot;">​</a></h2><p>早期的开发者们，使用 HTML，CSS，JS 来进行网页的开发，当网站体量大了之后，这种传统的方式却带来了难以维护，样式不统一等等问题，由此产生了像 React，Vue 这样的 Framework，协助开发者开发。</p><p>在 CSS 的基础上，衍生出了 Less，Sass，PostCss 这样的处理器，POSTCSS 由于其衍生原因，在现在的工程化项目中往往被作为后处理器使用，用于将兼容新旧 CSS的特性，实际上 PostCss 是可以替代 Less，Sass 这种前处理器，成为 CSS 的最终解决方案的，不过由于他内部需要不断开发插件，兼容 Less，Sass 的新版本迭代，后期社区就放弃了这种一体化解决方案，着重处理新旧 CSS 的特性了。</p><p>最终的处理逻辑可以理解为如下的链路：</p><p>Less/Sass文件 -&gt; Less/Sass 处理器 -&gt; 具有新特性的 CSS文件 -&gt; PostCss 处理器 -&gt; 兼容老特性的 CSS</p><p>在 JS 的基础上，衍生出了 TS 这种具有类型系统的编程语言，可以简单理解为 JS 的超集（数学概念）。同时，JS 这门语言自身的特性也在不断发展，也需要做新特性的兼容，由此一个新项目还需要考虑 JS 的处理逻辑，最终处理链路如下：</p><p>TS 文件 -&gt; 具有新特性的 JS 文件 -&gt; 兼容老特性的 JS</p><p>除了 CSS 和 JS 这两种文件的转换处理，在实际项目的开发中，还需要考虑诸如：打包优化，分包策略，静态资源处理等等许多问题，这些问题如果由我们人为的去配置，会大大减缓我们的开发效率。</p><p>因此，就诞生了诸如 ESBuild，Webpack，Rollup，Vite 这样的打包构建工具，专门为我们负责项目的打包构建流程，对于新手小白，可以不考虑其中的特性，直接使用即可。对于有一定基础的开发者，这些打包工具也各自都提供了自定义的配置项，我们可以使用这些配置项对项目进行更加专门化的打包构建。</p><h2 id="vite-解决的痛点" tabindex="-1">Vite 解决的痛点 <a class="header-anchor" href="#vite-解决的痛点" aria-label="Permalink to &quot;Vite 解决的痛点&quot;">​</a></h2><p>作为老版本的构建工具，Webpack 的特点是大而全，缺点是配置起来十分麻烦。</p><p>针对此，Vite 团队集成了大多数的常见配置，例如原生支持 CSS 和 TS 的编译，真正做到 out of box 开箱即用！这也是 Vue 团队一贯的作风——减少开发者的心智负担。对于这种作风的优劣，大家就见仁见智，这里就不过多评价了。</p><h2 id="vite-的构成" tabindex="-1">Vite 的构成 <a class="header-anchor" href="#vite-的构成" aria-label="Permalink to &quot;Vite 的构成&quot;">​</a></h2><p>Vite 在开发阶段使用 ESbuild，生产阶段使用 Rollup；</p><h2 id="nodejs-学习" tabindex="-1">NodeJS 学习 <a class="header-anchor" href="#nodejs-学习" aria-label="Permalink to &quot;NodeJS 学习&quot;">​</a></h2><p>了解 fs 和 path 这两个 Node 库，是用来处理文件的</p><p>获取路径:</p><ul><li>path.resolve(__dirname, &#39;&#39;)</li><li>process.cwd()：获取当前的node执行目录</li></ul><h1 id="依赖预构建" tabindex="-1">依赖预构建 <a class="header-anchor" href="#依赖预构建" aria-label="Permalink to &quot;依赖预构建&quot;">​</a></h1><h2 id="起因" tabindex="-1">起因 <a class="header-anchor" href="#起因" aria-label="Permalink to &quot;起因&quot;">​</a></h2><p>开发阶段 <code>Vite</code> 会对项目中使用的第三方依赖如 <code>react</code>、<code>react-dom</code>、<code>lodash-es</code> 等做<code>预构建</code>操作。</p><p>之所以要做<code>预构建</code>，是因为 <code>Vite</code> 是基于浏览器原生的 <code>ESM</code> 规范来实现 <code>dev server</code> 的，这就要求整个项目中涉及的所有源代码必须符合 <code>ESM</code> 规范。</p><p>而在实际开发过程中，业务代码我们可以严格按照 <code>ESM</code> 规范来编写，但第三方依赖就无法保证了，比如 <code>react</code>。这就需要我们通过 <code>Vite</code> 的<code>预构建</code>功能将非 <code>ESM</code> 规范的代码转换为符合 <code>ESM</code> 规范的代码。</p><p>另外，尽管有些第三方依赖已经符合 <code>ESM</code> 规范，但它是由多个子文件组成的，如 <code>lodash-es</code>。如果不做处理就直接使用，那么就会引发请求瀑布流，这对页面性能来说，简直就是一场灾难。同样的，我们可以通过 <code>Vite</code> 的<code>预构建</code>功能，将第三方依赖内部的多个文件合并为一个，减少 <code>http</code> 请求数量，优化页面加载性能。</p><p>综上，<code>预构建</code>，主要做了两件事情：</p><ul><li>将非 <code>ESM</code> 规范的代码转换为符合 <code>ESM</code> 规范的代码；</li><li>将第三方依赖内部的多个文件合并为一个，减少 <code>http</code> 请求数量；</li></ul><h2 id="做法" tabindex="-1">做法 <a class="header-anchor" href="#做法" aria-label="Permalink to &quot;做法&quot;">​</a></h2><ol><li><p>自动依赖搜寻</p><ul><li>如果没有找到现有的缓存，Vite 会扫描您的源代码，并自动寻找引入的依赖项（即 &quot;bare import&quot;，表示期望从 node_modules 中解析），并将这些依赖项作为预构建的入口点。预打包使用 esbuild 执行，因此通常速度非常快。</li><li>在服务器已经启动后，如果遇到尚未在缓存中的新依赖项导入，则 Vite 将重新运行依赖项构建过程，并在需要时重新加载页面。</li></ul></li><li><p>Monorepo 和 链接依赖</p></li><li><p>自定义行为</p><ul><li>optimizeDeps.include</li><li>optimizeDeps.exclude</li></ul></li><li><p>缓存</p><ul><li>文件系统缓存</li><li>浏览器缓存</li></ul></li></ol><h2 id="二次预构建" tabindex="-1">二次预构建 <a class="header-anchor" href="#二次预构建" aria-label="Permalink to &quot;二次预构建&quot;">​</a></h2><p>同样的，<code>Vite</code> 在<code>预构建</code>的时候也是基于类似的机制去找到项目中所有的第三方依赖的。和 <code>Webpack</code> 不同， <code>Vite</code> 另辟蹊径，借助了 <code>Esbuild</code> 比 <code>Webpack</code> 更快的打包能力，对整个项目做一个全量打包。打包的时候，通过分析<code>依赖关系</code>，得到项目中所有的源文件的 <code>url</code>，然后分离出第三方依赖。</p><p>这样，<code>Vite</code> 就可以对找到的第三方依赖做转化、合并操作了。</p><p><code>预构建</code>功能非常棒，但在实际的项目中，并不能保证所有的第三方依赖都可以被找到。如果出现下面的这两种情况， <code>Esbuild</code> 也无能为力:</p><ul><li><code>plugin</code> 在运行过程中，动态给源码注入了新的第三方依赖；</li><li><code>动态依赖</code>在代码运行时，才可以确定最终的 <code>url</code>；</li></ul><h2 id="vite3-的优化" tabindex="-1">Vite3 的优化 <a class="header-anchor" href="#vite3-的优化" aria-label="Permalink to &quot;Vite3 的优化&quot;">​</a></h2><p><code>Vite3.0</code> 版本对第三方依赖的请求和业务代码的请求有不同的处理逻辑。当浏览器请求业务代码时，<code>dev server</code> 只要完成源代码转换并收集到依赖模块的 <code>url</code>，就会给浏览器发送 <code>response</code>。而第三方依赖请求则不同，<code>dev server</code> 会等首屏期间涉及的所有模块的依赖关系<strong>全部</strong>解析完毕以后，才会给浏览器发送 <code>response</code>。这就导致了，如果发现有未<code>预构建</code>的第三方依赖，第三方依赖的请求会一直被<strong>阻塞</strong>，直到<code>二次预构建</code>完成为止。</p><blockquote><p>总结：</p><p><code>Vite3.0</code> 对<code>二次预构建</code>的优化，其实是以<code>消耗首屏性能</code>来优化 <code>reload 交互体验</code>。</p></blockquote><p>遗憾的是，<code>Vite 3.0</code> 并没有解决<code>懒加载二次预构建</code>导致的 <code>reload</code> 的问题。这个问题，目前只能通过社区提供的 <code>vite-plugin-optimize-persist</code>、<code>vite-plugin-package-config</code> 来解决了。</p><p>可以理解为<code>vite-plugin-package-config</code> 和<code> vite-plugin-optimize-persist</code>其实是相当于在vite.config.js配置中配置了<code>includes</code>选项。</p><p><code>dev server</code> 启动以后，内部有一个缓存来存取预构建的第三方依赖。而vite-plugin-optimize-persist 会监听这个缓存。当有新的第三方依赖需要预构建，并且修改缓存以后，vite-plugin-optimize-persist 会跟新 package.json 的 vite 字段。vite-plugin-package-config 负责在 dev server 启动时，初始化 vite.config，会把 package.json 中的 vite 配置项合并到 vite.config 中</p><h1 id="对不同资源的处理" tabindex="-1">对不同资源的处理 <a class="header-anchor" href="#对不同资源的处理" aria-label="Permalink to &quot;对不同资源的处理&quot;">​</a></h1><h2 id="css" tabindex="-1">CSS <a class="header-anchor" href="#css" aria-label="Permalink to &quot;CSS&quot;">​</a></h2><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// vite.config.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">css</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">preprocessorOptions</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// 配置SCSS</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">scss</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">additionalData</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">@import &quot;@/styles/variables.scss&quot;;</span><span style="color:#89DDFF;">`</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// 配置LESS</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">less</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">javascriptEnabled</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 是否将 CSS 提取至独立的文件中</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">extract</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 是否为 CSS 开启 source map</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">sourceMap</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 是否开启 CSS modules</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">modules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// CSS 预处理器的选项</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">loaderOptions</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// 所有的 CSS 都去掉空格</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">css</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// 样式压缩</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">minify</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// CSS 插入到HTML中的位置</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">insert</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">head</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><ul><li>localConvention： 修改生成的配置对象的key的展示形式(驼峰还是中划线形式）</li><li>scopeBehaviour：配置当前的模块化行为是模块化还是全局化（有hash就是开启了模块化的一个标志，因为他可以保证产生不同的hash值来控制我们的样式类名不被覆盖）</li><li>generateScopedName：生成的类名的规则（可以配置为函数，也可以配置成字符串规则)</li><li>hashPrefix：生成hash会根据你的类名去进行生成，如果你想要你生成hash更加的独特一点，你可以配置hashPrefix</li></ul><h3 id="preprocessoroptions篇" tabindex="-1">preprocessoroptions篇 <a class="header-anchor" href="#preprocessoroptions篇" aria-label="Permalink to &quot;preprocessoroptions篇&quot;">​</a></h3><p>主要是用来配置css预处理的一些全局参数</p><h3 id="postcss配置" tabindex="-1">postcss配置 <a class="header-anchor" href="#postcss配置" aria-label="Permalink to &quot;postcss配置&quot;">​</a></h3><p>直接在css.postcss中进行配置，该属性直接配置的就是postcss的配置 postcss-preset-env：支持css变量和一些未来css语法 自动补全(autoprefixer)</p><h2 id="静态资源" tabindex="-1">静态资源 <a class="header-anchor" href="#静态资源" aria-label="Permalink to &quot;静态资源&quot;">​</a></h2><p>静态资源的定义：并不是只有图片，视频资源</p><p>出了动态API之外，99%的都是静态资源</p><p>Vite对静态资源的支持是 out of box 的</p><h3 id="resolve-alias-原理" tabindex="-1">resolve alias 原理 <a class="header-anchor" href="#resolve-alias-原理" aria-label="Permalink to &quot;resolve alias 原理&quot;">​</a></h3><p>模拟vite.config.js里alias配置的原理</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">AliasConfig</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  [</span><span style="color:#A6ACCD;font-style:italic;">key</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * 模拟 Vite 配置文件中 alias 配置的原理</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#A6ACCD;font-style:italic;">aliasConfig</span><span style="color:#676E95;font-style:italic;"> alias 配置对象</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#A6ACCD;font-style:italic;">jsContent</span><span style="color:#676E95;font-style:italic;"> JavaScript 文件内容</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">returns</span><span style="color:#676E95;font-style:italic;"> 转换后的 JavaScript 文件内容</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">simulateViteAlias</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">aliasConfig</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">AliasConfig</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">jsContent</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 遍历 aliasConfig 对象，替换 jsContent 中的对应别名</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">entries</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">aliasConfig</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">([</span><span style="color:#A6ACCD;font-style:italic;">alias</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">aliasValue</span><span style="color:#89DDFF;">])</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 使用正则表达式匹配并替换别名</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">aliasRegex</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">RegExp</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">import</span><span style="color:#A6ACCD;">\\</span><span style="color:#C3E88D;">s+.*</span><span style="color:#A6ACCD;">\\</span><span style="color:#C3E88D;">s+from</span><span style="color:#A6ACCD;">\\</span><span style="color:#C3E88D;">s+[&#39;&quot;]</span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">alias</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">(/.*)?[&#39;&quot;]</span><span style="color:#89DDFF;">`</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">g</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">jsContent</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">jsContent</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">replace</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">aliasRegex</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">match</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">importPath</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// 使用 path 模块处理路径</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">newPath</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">importPath</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">aliasValue</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">importPath</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">aliasValue</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">match</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">replace</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">alias</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">newPath</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">jsContent</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>这个实现中，我们使用了 Object.entries 来遍历 aliasConfig 对象，并使用 path 模块处理路径。</p><h3 id="vite在生产环境中-对静态资源的处理" tabindex="-1">Vite在生产环境中，对静态资源的处理 <a class="header-anchor" href="#vite在生产环境中-对静态资源的处理" aria-label="Permalink to &quot;Vite在生产环境中，对静态资源的处理&quot;">​</a></h3><p>当我们将工程进行打包以后，会发现找不到原来的资源，配置baseUrl可以解决这个问题</p><p>打包后的静态资源为什么要有hash？</p><p>-&gt; 浏览器有一个缓存机制，静态资源名字只要不改，那么他就会直接用緩存的而不会重新请求</p><h2 id="typescript" tabindex="-1">Typescript <a class="header-anchor" href="#typescript" aria-label="Permalink to &quot;Typescript&quot;">​</a></h2><blockquote><p>插件：vite-plugin-checker</p></blockquote><ol><li>安装插件进行类型检查</li><li>在 scripts 脚本中设置<code>tsc --noEmit &amp;&amp; vite build</code>防止类型检查错误后仍然打包的情况</li><li>配置tsconfig.js和.env和vite-env.d.ts文件</li></ol><h1 id="插件✨" tabindex="-1">插件✨ <a class="header-anchor" href="#插件✨" aria-label="Permalink to &quot;插件✨&quot;">​</a></h1><blockquote><p>Vite 会在<strong>生命周期的不同阶段</strong>，调用<strong>不同的插件</strong>，以达到<strong>不同的目的</strong></p></blockquote><h2 id="插件概览" tabindex="-1">插件概览 <a class="header-anchor" href="#插件概览" aria-label="Permalink to &quot;插件概览&quot;">​</a></h2><p>Vite 插件是基于 Rollup 插件 系统设计的，它们可以扩展 Vite 的功能，例如处理不同类型的文件、优化构建等。Vite 插件分为以下几个方面：</p><p>解析: Vite 插件可以自定义模块解析逻辑，例如处理别名或自定义文件扩展名。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// vite.config.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">resolve-alias</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">resolveId</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">source</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">source</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@alias</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">src/alias</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>加载: Vite 插件可以自定义加载文件内容，例如处理图片、样式等。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// vite.config.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> fs </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">load-image</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">load</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">id</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">id</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">endsWith</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.jpg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">export default </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#A6ACCD;">(fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readFileSync</span><span style="color:#A6ACCD;">(id</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">base64</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">}`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>转换: Vite 插件可以自定义转换文件内容，例如编译 TypeScript、处理 CSS 预处理器等。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// vite.config.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> typescript </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@rollup/plugin-typescript</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">typescript</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#FFCB6B;">优化</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> Vite 插件可以在构建阶段优化代码，例如压缩、拆分等。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// vite.config.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">terser</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rollup-plugin-terser</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">terser</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>其他钩子: Vite 插件还提供了其他钩子，例如 buildStart、buildEnd、watchChange 等，用于在特定时机执行自定义操作。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// vite.config.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">custom-hooks</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">buildStart</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Build started</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">buildEnd</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Build ended</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">watchChange</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">id</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">File changed: </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">id</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="vite-alias" tabindex="-1">Vite-alias <a class="header-anchor" href="#vite-alias" aria-label="Permalink to &quot;Vite-alias&quot;">​</a></h2><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-diff"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 函数：提供更多配置选择</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> diffDirAndFile </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">dirFileArr</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> []</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">basePath</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    dirs</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    files</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> []</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">dirFileArr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">currentFileStat</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">statSync</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">basePath</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// console.log(&quot;current file stat: &quot;, name, currentFileStat.isDirectory());</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">currentFileStat</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isDirectory</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">dirs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">files</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> getTotalSrcDir </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">prefix</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readdirSync</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../src</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">))</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">diffResult</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">diffDirAndFile</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">result</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../src</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">resolveAliasesConfig</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">diffResult</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">dirs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">resolveAliasesConfig</span><span style="color:#F07178;">[</span><span style="color:#89DDFF;">`${</span><span style="color:#A6ACCD;">prefix</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../src</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">resolveAliasesConfig</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> ViteAliases </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  prefix </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    config</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">config</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">env</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">resolveAliasesConfig</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">getTotalSrcDir</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">prefix</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        resolve</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          alias</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">resolveAliasesConfig</span><span style="color:#F07178;"> </span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  ViteAliases</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h2 id="vite-plugin-html" tabindex="-1">vite-plugin-html <a class="header-anchor" href="#vite-plugin-html" aria-label="Permalink to &quot;vite-plugin-html&quot;">​</a></h2><p>webpack webpack-html-plugin / clean-webpack-plugin (clean： true) 其实就是因为vite他内置了非常多的插件，然后我们作为普通的开发者不需要承担这么高的心智负担 vue react css-loader less-loader ts-loader vite将很多核心插件全部内置了</p><h2 id="vite常用插件之vite-plugin-mock" tabindex="-1">vite常用插件之vite-plugin-mock <a class="header-anchor" href="#vite常用插件之vite-plugin-mock" aria-label="Permalink to &quot;vite常用插件之vite-plugin-mock&quot;">​</a></h2><p>mock数据：模拟数据 前后端一般是并行开发 用户列表 接口文档） mock数据 去做你前端的工作</p><ol><li>简单方式：直接去写死一两个数据 方便调试 缺陷：</li></ol><ul><li>没法做海量数据测试</li><li>没法获得一些标准数据</li><li>没法去感知http的异常</li><li>axios异常</li></ul><ol start="2"><li>mockis: 模拟海量数据的， vite-plugin-mock的依赖项就是mockis</li></ol><h2 id="vite和esbuild、rollup的关系" tabindex="-1">vite和esbuild、rollup的关系 <a class="header-anchor" href="#vite和esbuild、rollup的关系" aria-label="Permalink to &quot;vite和esbuild、rollup的关系&quot;">​</a></h2><p>Vite 是一个基于浏览器原生 ES 模块的开发服务器和构建工具。在 Vite 中，Rollup 和 esbuild 分别扮演了不同的角色。</p><p>在 Vite 中，Rollup 和 esbuild 分别扮演了不同的角色。</p><p>Rollup 的主要作用：</p><p>将多个模块文件打包成一个或多个输出文件，以便在生产环境中使用。 优化代码，例如：删除无用代码（Tree Shaking）、压缩代码等。 支持多种模块格式，如：CommonJS、AMD、ESM 等。 提供插件系统，可以通过插件扩展 Rollup 的功能。 在 Vite 中，Rollup 主要用于生产环境构建。Vite 使用 Rollup 进行最终的打包和优化，以生成高性能的生产代码。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">// Rollup 配置示例</span></span>
<span class="line"><span style="color:#A6ACCD;">import { defineConfig } from &#39;vite&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">import { terser } from &#39;rollup-plugin-terser&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">export default defineConfig({</span></span>
<span class="line"><span style="color:#A6ACCD;">  build: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    rollupOptions: {</span></span>
<span class="line"><span style="color:#A6ACCD;">      plugins: [terser()]</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>esbuild 的主要作用：</p><p>快速地将源代码转换为浏览器可执行的代码。 支持多种模块格式，如：CommonJS、ESM 等。 支持压缩代码，如：移除空格、注释等。 在 Vite 中，esbuild 主要用于开发环境。Vite 利用 esbuild 快速进行代码转换，提高开发环境的编译速度。同时，Vite 也可以使用 esbuild 进行生产环境的代码压缩。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">// 使用 esbuild 进行代码压缩的示例</span></span>
<span class="line"><span style="color:#A6ACCD;">import { defineConfig } from &#39;vite&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">import esbuild from &#39;rollup-plugin-esbuild&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">export default defineConfig({</span></span>
<span class="line"><span style="color:#A6ACCD;">  build: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    rollupOptions: {</span></span>
<span class="line"><span style="color:#A6ACCD;">      plugins: [esbuild({ minify: true })]</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h1 id="vite-执行流程" tabindex="-1">Vite 执行流程 <a class="header-anchor" href="#vite-执行流程" aria-label="Permalink to &quot;Vite 执行流程&quot;">​</a></h1><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> viteConfig </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./vite.config.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">viteConfig</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">plugins</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;font-style:italic;">plugin</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> plugin</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">config </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> plugin</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">config</span><span style="color:#A6ACCD;">(viteConfig))</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> mergeOptions </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assign</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{},</span><span style="color:#A6ACCD;"> defaultConfig</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> viteConfig</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> terminalConfig)</span></span>
<span class="line"><span style="color:#A6ACCD;">viteConfig</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">plugins</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;font-style:italic;">plugin</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> plugin</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">config </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> plugin</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">configResolved</span><span style="color:#A6ACCD;">(mergeOptions))</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h1 id="性能优化✨" tabindex="-1">性能优化✨ <a class="header-anchor" href="#性能优化✨" aria-label="Permalink to &quot;性能优化✨&quot;">​</a></h1><ol><li><p>开发时的构建优化</p><ul><li>webpack 下了很多功夫：cache-loader，如果两次构建的源代码没有变化，则直接使用缓存，不调用 loader；thread-loader，开启多线程构建</li><li>vite 是按需加载，不需要太关注这方面</li></ul></li><li><p>页面性能指标</p><ul><li>首屏渲染时长：fcp（first content paint）-&gt; 页面中第一个元素的渲染时长 <ul><li>懒加载：写代码实现</li><li>http优化：协商缓存和强缓存 <ul><li>强缓存：服务端给响应头追加字段（expires），在截止时间之前，客户端不会向服务端发送 HTTP 请求</li><li>协商缓存：客户端请求资源前，向服务端发送一个协商请求，根据协商请求的返回结果（304 状态码）决定要不要发送请求资源的 HTTP 请求</li></ul></li></ul></li><li>页面中最大元素的一个渲染时长：lsp（largest content paint）</li></ul></li><li><p>JS 逻辑</p><ul><li><p>副作用的清除，useEffect返回清除副作用的函数</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">useEffect</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">		</span><span style="color:#676E95;font-style:italic;">// do something</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">clearTimeout</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;">[])</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p>requestAnimationFrame, requestIdleCallback（卡浏览器帧率，理解浏览器渲染原理）</p><ul><li>浏览器的帧率：16.6ms去更新一次（执行 JS 逻辑，重排重绘）</li><li><code>requestIdleCallback</code></li><li>concurrent mode -&gt; concurrency 可终端渲染</li></ul></li><li><p>多用lodash</p><ul><li>防抖节流：使用lodash提供的</li><li>不要使用数组原生的Array.forEach：使用lodash提供的</li></ul></li><li><p>对作用域的控制</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> arr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> (</span><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> len</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">len</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">++</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">{}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>设计模式</p></li></ul></li><li><p>CSS</p><ul><li>关注继承属性：能继承的不要重复写</li><li>避免过深的嵌套</li></ul></li><li><p>生产（打包）时的构建优化【构建工具相关】</p><ul><li>优化体积：压缩，树摇，图片资源压缩，CDN 加载，分包</li></ul></li></ol><h2 id="分包策略" tabindex="-1">分包策略 <a class="header-anchor" href="#分包策略" aria-label="Permalink to &quot;分包策略&quot;">​</a></h2><p>浏览器的缓存策略</p><p>静态资源名字没有变化，浏览器就不会重新请求</p><p>打包后的文件名都带有哈希值，就是因为文件内容只要有一点变化，打包后的哈希值就完全不同。</p><p>实际项目中，如果不做分包，所有的文件都回被输出到index.[hash].js中，当我们引入第三方库的时候，也会打包进index.[hash].js中，每次业务代码改变后，都要重新把第三方库的代码打包进index文件，这是不必要的。</p><p>我们希望分成两个包：</p><ul><li>业务代码</li><li>第三方库代码【引入的，不会改变】</li></ul><p>这样每次就只有业务代码所在的包（也就是js文件）会被重新打包，而第三方库代码不会被重新打包</p><blockquote><p>分包就是把一些不会更新的文件，进行单独的打包处理</p></blockquote><p>vite.config.js</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineConfig</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">build</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">minify</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">rollupOptions</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">manualChunks</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">id</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">id</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">includes</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">node_modules</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)) </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">lodash</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="gzip压缩" tabindex="-1">gzip压缩 <a class="header-anchor" href="#gzip压缩" aria-label="Permalink to &quot;gzip压缩&quot;">​</a></h2><p>有时候我们的文件资源过大，在 HTTP 传输中十分损耗性能</p><p>将所有的静态文件进行压缩，已达到减小体积的目的</p><p>服务端-》压缩文件</p><p>客户端收到压缩包-》浏览器解压缩</p><p>chunk-》块</p><p>从入口文件到执行一系列依赖最终打包成的js文件叫做块</p><p>块最终会映射为 js 文件，但是块不是 js 文件</p><p>压缩后的文件给后端或者运维</p><p>当客户端请求index.js文件时，服务端如果发现所请求的文件对应服务器上的<code>.gz</code>后缀的文件，那么服务端就在响应时设置响应头为<code>content-encoding: gzip</code>，到达客户端后，客户端根据响应头解压缩文件即可获取index.js文件</p><h2 id="动态导入" tabindex="-1">动态导入 <a class="header-anchor" href="#动态导入" aria-label="Permalink to &quot;动态导入&quot;">​</a></h2><p>webpack一次性将所有文件全部打包完毕后，才开启开发服务器，</p><p>Vite 是直接导出index.html，如果index.html中有需要请求的文件，再去请求资源，也就是说 vite 是按需加载的</p><p>动态导入和按需加载差不多，是es6的一个新特性</p><p>例如：动态导入在路由系统中的应用</p><blockquote><p>Vue路由</p></blockquote><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createRouter</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createWebHistory</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue-router</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> router </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createRouter</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">history</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createWebHistory</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">meta</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">env</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">BASE_URL)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">routes</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/home</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Home</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#82AAFF;">component</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../pages/Home/index.vue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/login</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Login</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#82AAFF;">component</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../pages/Login/index.vue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> router</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>这么做的好处时，当请求页面的路由不是 Home 时，这个 Home 组件内部的代码不会被浏览器加载，import 函数处于 Promise 的 pending 状态</p><p>一旦请求到了 Home 路由，就请求相关资源，代码不会执行</p><p>在 webpack 的层面，代码<strong>会被编译</strong>，但<strong>不会被加载</strong></p><p>最终在打包后就会出现分包的情况</p><h2 id="cdn-加速" tabindex="-1">CDN 加速 <a class="header-anchor" href="#cdn-加速" aria-label="Permalink to &quot;CDN 加速&quot;">​</a></h2><blockquote><p>Content Delivery Network</p></blockquote><p>我们的所有依赖和资源打包后会放到服务器上</p><p>CDN 全称为内容分发网络，是一种利用互联网技术分布式存储、网络负载均衡和内容分发技术的网络架构。通过在网络各处分布部署节点服务器，<strong>将用户请求的内容分发到距离用户更近、访问速度更快的节点上</strong>，从而提高用户访问网站的<strong>速度和质量，减轻源站压力</strong>，提高网站的可用性和稳定性。CDN 是现代网站架构中重要的一环，广泛应用于各种领域，如电子商务、在线视频、游戏等。</p><p>将我们依赖的第三方模块全部写成 CDN 的形式，保证我们自己代码的小体积，减轻客户端的传输压力</p><p>CDN -&gt; 内容分发 DNS（实际上就是一个链接🔗）</p><blockquote><p>插件：vite-plugin-cdn-import</p></blockquote><h1 id="处理跨域" tabindex="-1">处理跨域 <a class="header-anchor" href="#处理跨域" aria-label="Permalink to &quot;处理跨域&quot;">​</a></h1><h2 id="同源策略" tabindex="-1">同源策略 <a class="header-anchor" href="#同源策略" aria-label="Permalink to &quot;同源策略&quot;">​</a></h2><p>前提：仅在浏览器发生</p><p>规定了：HTTP 交互只能发生在同协议、同域名、同端口的两台终端之间进行</p><p>定义跨域：当 A 源的浏览器网页向 B 源的服务器地址请求信息时，如果不符合同源策略，就会产生跨域，跨域请求默认会被浏览器拦截</p><p>重点：跨域限制是服务器响应了资源，但是浏览器不给你</p><h2 id="vite是如何做到跨域的" tabindex="-1">Vite是如何做到跨域的 <a class="header-anchor" href="#vite是如何做到跨域的" aria-label="Permalink to &quot;Vite是如何做到跨域的&quot;">​</a></h2><p>实际请求的还是自己的服务器，Vite 在服务端将这个请求发送的出去，也就是绕过来浏览器的限制</p><blockquote><p>原理：</p><p>浏览器发起请求 -&gt; 自己的服务器 -&gt; 外面的服务器 -&gt; 拿到数据（然后再把数据沿着这条链路传回去）【实际请求了两次，一次是浏览器到自己的服务器，一个是自己的服务器到外面的服务器】</p></blockquote><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">defineConfig</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vite</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineConfig</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">server</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">proxy</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">api</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://www.360.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">changeOrigin</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">rewrite</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">path</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">replace</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;font-style:italic;">^</span><span style="color:#A6ACCD;">\/</span><span style="color:#C3E88D;">api</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h2><ul><li>开发时 <ul><li>利用构建工具或者脚手架或者第三方库的 proxy 代理配置</li><li>我们自己搭建一个开发服务器</li></ul></li><li>生产时 <ul><li>后端/运维通过ngnix代理服务，和我们自己搭建一个开发服务器的原理类似</li><li>配置身份标记<code>Access-Control-Allow-Origin</code>，相当于一个白名单，会出现在服务端的响应头中</li></ul></li></ul></div></div></main><footer class="VPDocFooter" data-v-7be6d394 data-v-ef8fce8e><!--[--><!--]--><!----><!----></footer><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-2560bc03 data-v-9257c7a2><div class="container" data-v-9257c7a2><p class="message" data-v-9257c7a2>每天前进 30 公里</p><p class="copyright" data-v-9257c7a2>MIT Licensed | <a target="_blank" href="https://github.com/jiacheng-coder/my-blog"> @luminous/docs </a></p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"algo_02.双指针.md\":\"32f9e142\",\"js_js04.md\":\"ff91d80d\",\"network_04.网络层.md\":\"adc07418\",\"algo_刷题笔记4.md\":\"96af88dd\",\"react_react hooks.md\":\"8d73e4ec\",\"js_js03.md\":\"c7d70c08\",\"network_02.应用层协议种类.md\":\"da532813\",\"css_css入门.md\":\"186d1e5c\",\"js_js01.md\":\"802b0284\",\"network_06.计网快问快答.md\":\"7ac4ec10\",\"js_js手写.md\":\"82c34a7c\",\"network_03.传输层.md\":\"b7412285\",\"react_react 事件机制.md\":\"5bb91d09\",\"network_02.http基础.md\":\"ea049179\",\"network_05.网络安全.md\":\"bc141604\",\"js_js02.md\":\"6346f4ef\",\"network_02.http优化.md\":\"ab3954cf\",\"wechatminiprogram_01.小程序起步.md\":\"626b77b9\",\"algo_刷题笔记3.md\":\"400a90c9\",\"algo_刷题笔记2.md\":\"fce6ed95\",\"ts_类型系统.md\":\"14c655f8\",\"designpattern_发布订阅模式.md\":\"970ca931\",\"projects_wecqu.md\":\"2d501a8b\",\"ts_quick start.md\":\"07656ad5\",\"network_01.计网起步.md\":\"362de3b5\",\"projects_ecosystem.md\":\"1526ac70\",\"react_react 基础学习.md\":\"8e95a85a\",\"ts_面向对象特性.md\":\"d7fb6669\",\"react_框架抽象.md\":\"62788972\",\"react_react router v6.md\":\"49c0c8c5\",\"react_quick start.md\":\"839528c9\",\"vue_vue进阶.md\":\"04d4207b\",\"wechatminiprogram_02.获取用户头像.md\":\"41f4f647\",\"index.md\":\"f8789e92\",\"ts_函数式编程.md\":\"609ef64b\",\"wechatminiprogram_03.变量加锁与请求封装.md\":\"76d6f2a4\",\"algo_01.汇总.md\":\"6fd127cc\",\"wechatminiprogram_04.unionid与其近亲.md\":\"f8809690\",\"vue_vuerouter.md\":\"edd3ed78\",\"uniapp_uniapp基础.md\":\"613f7ea7\",\"sop_config_in_coding.md\":\"065307d5\",\"ts_泛型工具类.md\":\"5db5adca\",\"前端工程化_webpack初探.md\":\"e2f29a2d\",\"wechatminiprogram_05.微信云开发.md\":\"cd24c3a4\",\"前端工程化_起源.md\":\"b85fc121\",\"vue_手写系列.md\":\"809c6705\",\"sop_project.md\":\"8c5fe64f\",\"algo_刷题笔记1.md\":\"9afad74a\",\"sop_introduce.md\":\"0a5bc9ff\",\"前端工程化_vite 初探.md\":\"4db9e488\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"zh-cn\",\"dir\":\"ltr\",\"title\":\"@luminous/docs\",\"description\":\"基于 vitepress 实现\",\"base\":\"/my-blog/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"blog\":{\"pagesData\":[{\"route\":\"/Algo/01.汇总\",\"meta\":{\"tag\":[\"DS\"],\"sticky\":200,\"title\":\"题型汇总 🔥\",\"date\":\"2023-07-17 21:56:58\",\"description\":\"1. 算法的复杂度分析。\\n2. 排序算法，以及他们的区别和优化。\\n3. 数组中的双指针、滑动窗口思想。\\n4. 利用 Map 和 Set 处理查找表问题。\\n5. 链表的各种问题。\\n6. 利用递归和迭代法\",\"cover\":\"\"}},{\"route\":\"/Algo/02.双指针\",\"meta\":{\"tag\":[\"DS\"],\"title\":\"双指针问题\",\"date\":\"2023-07-17 21:56:58\",\"description\":\" 16. 最接近的三数之和\\n先按照升序排序，然后分别从左往右依次选择一个基础点 `i`（`0 <= i <= nums.length - 3`），在基础点的右侧用双指针去不断的找最小的差值。\\n假设基础\",\"cover\":\"\"}},{\"route\":\"/Algo/刷题笔记1\",\"meta\":{\"tag\":[\"DS\"],\"title\":\"刷题笔记1\",\"date\":\"2023-07-17 21:56:58\",\"description\":\" 1 两数之和\\n```js\\n/**\\n * @param {number[]} nums\\n * @param {number} target\\n * @return {number[]}\\n */\\nvar \",\"cover\":\"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bc4986eb6aa543a0931a1568de9fd07f~tplv-k3u1fbpfcp-watermark.image?\"}},{\"route\":\"/Algo/刷题笔记2\",\"meta\":{\"tag\":[\"DS\"],\"title\":\"刷题笔记2\",\"date\":\"2023-07-17 21:56:58\",\"description\":\" 90 子集 II\\n\\n```js\\n/**\\n * @param {number[]} nums\\n * @return {number[][]}\\n */\\nvar subsetsWithDup = func\",\"cover\":\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/244f2a200bb64daa9af7ca72879d9cdf~tplv-k3u1fbpfcp-watermark.image?\"}},{\"route\":\"/Algo/刷题笔记3\",\"meta\":{\"tag\":[\"DS\"],\"title\":\"刷题笔记3\",\"date\":\"2023-07-17 21:56:58\",\"description\":\" 242 有效的字母异位词\\n\\n```js\\n/**\\n * @param {string} s\\n * @param {string} t\\n * @return {boolean}\\n */\\nvar isAn\",\"cover\":\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c2d8ac25a2b54a72bd1a97fc19b47d7d~tplv-k3u1fbpfcp-watermark.image?\"}},{\"route\":\"/Algo/刷题笔记4\",\"meta\":{\"tag\":[\"DS\"],\"title\":\"刷题笔记4\",\"date\":\"2023-07-17 21:56:58\",\"description\":\" 多多的数字组合\\n多多君最近在研究某种数字组合：\\n定义为：每个数字的十进制表示中(0~9)，每个数位各不相同且各个数位之和等于N。\\n满足条件的数字可能很多，找到其中的最小值即可。\\n多多君还有很多研究课\",\"cover\":\"\"}},{\"route\":\"/CSS/CSS入门\",\"meta\":{\"tag\":[\"CSS\"],\"title\":\"CSS 入门\",\"date\":\"2023-07-17 21:56:58\",\"description\":\" 选择器\\n~: 同辈选择器\\n+: 相邻同辈选择器，只会选中一个dom元素\\n height冲突问题\\nmax-height和height一起使用时，取小值。min-height和height一起使用时，取\",\"cover\":\"\"}},{\"route\":\"/DesignPattern/发布订阅模式\",\"meta\":{\"tag\":[\"DesignPattern\"],\"publish\":false,\"title\":\"发布订阅模式\",\"date\":\"2023-07-17 21:56:58\",\"description\":\"\\n- 确定发布者（店家）\\n- 给发布者添加一个缓存列表，用于存放回调函数来通知订阅者\\n- 当发布消息时，发布者遍历这个缓存列表，依次触发里面存放的订阅者回调函数\\n下面是一个简单的发布/订阅模式的例子：\",\"cover\":\"\",\"hidden\":true,\"recommend\":false}},{\"route\":\"/JS/JS01\",\"meta\":{\"tag\":[\"JS\"],\"title\":\"JavaScript\",\"date\":\"2023-07-17 21:56:58\",\"description\":\" ES6和ES5的区别\\n- 箭头函数\\n- let, const创建块级作用域,不会像var一样进行变量提升(先使用,后创建)\\n- 模板字符串和字符串拼接的优劣\\n- 类定义与继承\\n  ES6 引入了对类\",\"cover\":\"\"}},{\"route\":\"/JS/JS02\",\"meta\":{\"tag\":[\"JS\"],\"title\":\"JS基础\",\"date\":\"2023-07-17 21:56:58\",\"description\":\" 闭包与作用域链\\n- 闭包(闭包函数)的概念：指有权访问另一个函数作用域中的变量的函数，一般情况就是在一个函数中包含另一个函数。\\n- 闭包的实现原理：其实是利用了作用域链的特性，我们都知道作用域链就是\",\"cover\":\"\"}},{\"route\":\"/JS/JS03\",\"meta\":{\"tag\":[\"JS\"],\"title\":\"\",\"date\":\"2023-07-17 21:56:58\",\"cover\":\"\"}},{\"route\":\"/JS/JS04\",\"meta\":{\"tag\":[\"JS\"],\"title\":\"Javascript进阶\",\"date\":\"2023-07-17 21:56:58\",\"description\":\" 生成器函数和迭代器\\n生成器函数和迭代器的作用和实现如下：\\n- 生成器函数是ES6中新增的一种函数控制、使用的方案，它可以让我们更加灵活的控制函数什么时候继续执行、暂停执行等。生成器函数使用 func\",\"cover\":\"\"}},{\"route\":\"/JS/JS手写\",\"meta\":{\"tag\":[\"JS\"],\"sticky\":100,\"title\":\"JS手写\",\"date\":\"2023-07-17 21:56:58\",\"description\":\" 组合函数\\n简单来说，compose函数可以用来组合不同的函数，它的实现有两个要点\\n1. 组合函数\\n2. 从右→左求值\\n这里我使用reduce和常规递归两种方法实现compose\\n```jsx\\n// \",\"cover\":\"\"}},{\"route\":\"/Network/01.计网起步\",\"meta\":{\"description\":\"快速入门计算机网络\",\"tag\":[\"计算机网络\"],\"date\":\"2023-07-17 21:56:58\",\"title\":\"入门篇\",\"cover\":\"\"}},{\"route\":\"/Network/02.HTTP优化\",\"meta\":{\"tag\":[\"计算机网络\"],\"title\":\"HTTP/1.1如何优化\",\"date\":\"2023-07-17 21:56:58\",\"description\":\"我们可以从下面这三种优化思路来优化 HTTP/1.1 协议：\\n- *尽量避免发送 HTTP 请求*；\\n  - 缓存\\n- *在需要发送 HTTP 请求时，考虑如何减少请求次数*；\\n  - 减少重定向请求\",\"cover\":\"\"}},{\"route\":\"/Network/02.HTTP基础\",\"meta\":{\"tag\":[\"计算机网络\"],\"title\":\"HTTP基础\",\"date\":\"2023-07-17 21:56:58\",\"description\":\" HTTP基本概念\\n HTTP是什么?\\nHTTP是基于TCP协议的应用层传输协议, 由请求和响应构成, 是一个标准的客户端服务器模型\\n\\n`HTTP` 是一种无状态 (stateless) 协议, `H\",\"cover\":\"\"}},{\"route\":\"/Network/02.应用层协议种类\",\"meta\":{\"tag\":[\"计算机网络\"],\"title\":\"应用层-协议种类\",\"date\":\"2023-07-17 21:56:58\",\"description\":\"应用层有许多协议，包括\\n1. 域名系统DNS协议\\n2. FTP文件传输协议\\n3. Telnet远程终端协议\\n4. Telnet远程登录协议\\n5. SMTP电子邮件协议\\n6. POP3邮件读取协议\\n7.\",\"cover\":\"https://img-blog.csdnimg.cn/img_convert/31410d2e885aab55c2c588aad754bb5c.png\"}},{\"route\":\"/Network/03.传输层\",\"meta\":{\"tag\":[\"计算机网络\"],\"title\":\"TCP与UDP\",\"date\":\"2023-07-17 21:56:58\",\"description\":\" TCP和UDP的区别\\nTCP(传输控制协议)和UDP(用户数据报协议)是两种不同的传输层协议, 属于TCP/IP体系分层下的第二层, 是直接服务于应用层的协议\\n\\n 无连接和面向连接\\n 不可靠传输与可\",\"cover\":\"\"}},{\"route\":\"/Network/04.网络层\",\"meta\":{\"tag\":[\"计算机网络\"],\"title\":\"网络层概述\",\"date\":\"2023-07-17 21:56:58\",\"description\":\"更新ing...\",\"cover\":\"\"}},{\"route\":\"/Network/05.网络安全\",\"meta\":{\"tag\":[\"计算机网络\"],\"title\":\"网络安全\",\"date\":\"2023-07-17 21:56:58\",\"description\":\" 网络安全概述\\n网络安全分为安全威胁，安全服务和安全机制三方面\\n 安全威胁\\n分为被动攻击和主动攻击\\n- 被动攻击：攻击者通过窃听手段仅观察和分析网络中传输数据流中的敏感信息，\\n  而不对其进行干扰。\\n\",\"cover\":\"\"}},{\"route\":\"/Network/06.计网快问快答\",\"meta\":{\"tag\":[\"计算机网络\"],\"title\":\"\",\"date\":\"2023-07-17 21:56:58\",\"cover\":\"https://pic1.zhimg.com/v2-dc8ac903cd28c9e5b158c1d16677c810_r.jpg\"}},{\"route\":\"/Projects/Wecqu\",\"meta\":{\"tag\":[\"Project\"],\"title\":\"WeCQU微信小程序\",\"date\":\"2023-07-17 21:56:58\",\"description\":\"\\n> 用户画像：在校大学生\\n 项目介绍\\n我们的项目是一个智慧校园一体化查询微信小程序，专为大学生打造，旨在提高学生在校内的信息查询效率。\\n具体的实现方式是利用”微信小程序+后端“的技术，实现了一次登录\",\"cover\":\"\"}},{\"route\":\"/Projects/ecosystem\",\"meta\":{\"tag\":[\"Project\"],\"title\":\"校园生态圈\",\"date\":\"2023-07-17 21:56:58\",\"description\":\"\\n 项目效果\\n1. 首页\\n<img src=\\\"./assets/ecos_homepage.pic.jpg\\\" alt=\\\"image-20230318095543200\\\" style=\\\"zoom:50%\",\"cover\":\"\"}},{\"route\":\"/React/Quick Start\",\"meta\":{\"tag\":[\"React\"],\"title\":\"Quick Start\",\"date\":\"2023-07-30 15:13:24\",\"description\":\"\\n- Component && Props\\n- States\\n- Hooks\\n- Redux\\n- Typescript\\n- Forms\\n- State Management\\n- Firebase Pr\",\"cover\":\"\"}},{\"route\":\"/React/React Hooks\",\"meta\":{\"tag\":[\"React\"],\"title\":\"React Hooks\",\"date\":\"2023-07-30 15:13:24\",\"description\":\" 一、产生原因\\nReact Hooks是React v16.8.0版本引入的新特性，它可以让我们在函数组件中使用state和其他React特性，从而避免使用类组件。\\n在使用React Hooks时，有\",\"cover\":\"\"}},{\"route\":\"/React/React Router v6\",\"meta\":{\"tag\":[\"React\"],\"title\":\"React Router v6\",\"date\":\"2023-07-30 15:13:24\",\"description\":\" 快速复习\\n- BrowerRouter\\n- NavLink vs Link (可以传递参数)\\n- Routes && Route\\n- useNavigate 强制路由跳转\\n- Link && Nav\",\"cover\":\"\"}},{\"route\":\"/React/React 事件机制\",\"meta\":{\"tag\":[\"React\"],\"title\":\"React 事件机制\",\"date\":\"2023-07-30 15:13:24\",\"description\":\" 前置知识\\n- 事件冒泡\\n- 事件委托\\n- 函数式编程「React 官方是十分推崇函数式编程的」\\n    - 纯函数\\n    - 了解什么是副作用\\n    - 不可变状态\\n        - 可以使用\",\"cover\":\"\"}},{\"route\":\"/React/React 基础学习\",\"meta\":{\"tag\":[\"React\"],\"title\":\"React 基础学习\",\"date\":\"2023-07-30 15:13:24\",\"description\":\"\\n> \\n 起步\\n 本质\\n> 在React jsx文件中每一次对组件的使用`<App />`都是在直接调用对应的组件函数\\n> \\n- component state组件状态，实际上直接翻译过来不准确，因此\",\"cover\":\"\"}},{\"route\":\"/React/框架抽象\",\"meta\":{\"tag\":[\"React\"],\"title\":\"框架抽象\",\"date\":\"2023-07-30 15:13:24\",\"description\":\"层级划分（三层）：\\n- 应用层面\\n    - 组件层面\\n        - 节点层面\\n 工作原理\\n\\n> \\n视图 = 框架内部运行机制(状态)\\n框架内部的运行机制根据状态渲染视图\\n 不同框架的区别\\n> \",\"cover\":\"\"}},{\"route\":\"/TS/Quick Start\",\"meta\":{\"tag\":[\"TS\"],\"title\":\"Quick Start\",\"date\":\"2023-07-30 15:13:24\",\"description\":\" TS和JS的区别\\nTS和JS的区别是，TS是JS的一个超集，也就是说，JS有的TS都有，而TS还有一些JS没有的特性。最大的特性就是TS提供了类型系统³⁵，可以在编译时检查代码中的错误和不匹配。而J\",\"cover\":\"\"}},{\"route\":\"/TS/函数式编程\",\"meta\":{\"tag\":[\"TS\"],\"title\":\"\",\"date\":\"2023-07-30 15:13:24\",\"cover\":\"\"}},{\"route\":\"/TS/泛型工具类\",\"meta\":{\"tag\":[\"TS\"],\"title\":\"泛型工具类\",\"date\":\"2023-07-30 15:13:24\",\"description\":\"\\n```typescript\\nimport { IPerson } from \\\"../interfaces/IPerson\\\";\\n// Partial<T>: 将T中所有属性变为可选项\\ntype TPa\",\"cover\":\"\"}},{\"route\":\"/TS/类型系统\",\"meta\":{\"tag\":[\"TS\"],\"title\":\"类型系统\",\"date\":\"2023-07-30 15:13:24\",\"description\":\"1.类型系统\\n核心：never  字面量类型  原始类型  any/unknown （赋值时只能是层级低的赋值给层级高的）\\n如何理解呢？\\n通过人往高处走这句俗语来理解，层级高的赋值给层级低的，就相当于\",\"cover\":\"\"}},{\"route\":\"/TS/面向对象特性\",\"meta\":{\"tag\":[\"TS\"],\"title\":\"面向对象\",\"date\":\"2023-07-30 15:13:24\",\"description\":\"在 TypeScript 中，面向对象编程有三大特性：封装、继承和多态。\\n 封装\\n封装是指将数据和方法相结合，形成一个有机的整体，同时隐藏了对象的内部细节，只向外部暴露必要的接口。这样可以保护对象的数\",\"cover\":\"\"}},{\"route\":\"/Uniapp/Uniapp基础\",\"meta\":{\"tag\":[\"Uniapp\"],\"title\":\"uniapp基础\",\"date\":\"2023-07-17 21:56:58\",\"description\":\" 生命周期\\n 应用生命周期\\n在`App.vue`文件中使用, 主要包括onLaunch, onShow和onHide\\n- `onLaunch` - 初始化完成时出发, 全局仅一次\\n- `onShow \",\"cover\":\"\"}},{\"route\":\"/Vue/VueRouter\",\"meta\":{\"tag\":[\"Vue3\"],\"title\":\"\",\"date\":\"2023-07-17 21:56:58\",\"cover\":\"\"}},{\"route\":\"/Vue/Vue进阶\",\"meta\":{\"tag\":[\"Vue3\"],\"title\":\"\",\"date\":\"2023-07-17 21:56:58\",\"cover\":\"\"}},{\"route\":\"/Vue/手写系列\",\"meta\":{\"tag\":[\"Vue3\"],\"title\":\"手写\",\"date\":\"2023-07-17 21:56:58\",\"description\":\" 手写响应式原理\\n defineProperty\\n```jsx\\nlet person = {\\n  name: '',\\n  age: 18\\n}\\nfunction defineProperty(obj, \",\"cover\":\"\"}},{\"route\":\"/WeChatMiniprogram/01.小程序起步\",\"meta\":{\"tag\":[\"微信小程序\"],\"title\":\"小程序入门\",\"date\":\"2023-07-17 21:56:58\",\"description\":\" 缘起\\n我于2022年8月份开始负责一款校园课表查询小程序的线上维护。在这个过程中，我不仅进行了新功能的开发和旧功能的维护，还遇到并解决了许多bug。为了分享我的经验和心得，我将这些问题和总结整理成了\",\"cover\":\"\"}},{\"route\":\"/WeChatMiniprogram/02.获取用户头像\",\"meta\":{\"tag\":[\"微信小程序\"],\"sticky\":100,\"title\":\"案例一: 头像获取\",\"date\":\"2023-07-17 21:56:58\",\"description\":\"首先我们看一下微信官方对头像获取做出的改动日志：\\n\\n> wx.getUserInfo 在2021年4月28日停用  \\n> wx.getUserProfile 在2022年11月8日停用\\n 1. 起因\\n\",\"cover\":\"\"}},{\"route\":\"/WeChatMiniprogram/03.变量加锁与请求封装\",\"meta\":{\"tag\":[\"微信小程序\"],\"title\":\"实际案例\",\"date\":\"2023-07-17 21:56:58\",\"description\":\" 按钮点击事件\\n就常见的登录流程来说, 心急的用户在输入账号和密码后会连续点击按钮事件, 从而会向后端发送多次登录请求, 影响了服务器资源, 为了解决这一问题有两种实现方式:\\n 方法一: wx.sho\",\"cover\":\"\"}},{\"route\":\"/WeChatMiniprogram/04.Unionid与其近亲\",\"meta\":{\"tag\":[\"微信小程序\"],\"title\":\"AppId,UnionId和OpenId\",\"date\":\"2023-07-17 21:56:58\",\"description\":\"以一首诗作为开篇\\n\\n>开放平台，公众平台，小程序，\\n>各有特色，各有用途。\\n>\\n>AppID 是应用的身份标识，\\n>UnionID 是用户的唯一标识，\\n>OpenID 是用户在应用中的标识，\\n>三者之\",\"cover\":\"\"}},{\"route\":\"/WeChatMiniprogram/05.微信云开发\",\"meta\":{\"tag\":[\"微信小程序\"],\"title\":\"微信云开发\",\"date\":\"2023-07-17 21:56:58\",\"description\":\" 获取一个集合所有记录\\n开发者可以通过 `limit` 方法指定需要获取的记录数量，但小程序端不能超过 20 条，云函数端不能超过 100 条。\\n下面是在云函数端获取一个集合所有记录的例子，因为有最多\",\"cover\":\"\"}},{\"route\":\"/sop/config_in_coding\",\"meta\":{\"tag\":[\"SOP\"],\"title\":\"\",\"date\":\"2023-07-17 21:56:58\",\"cover\":\"\"}},{\"route\":\"/sop/introduce\",\"meta\":{\"tag\":[\"SOP\"],\"title\":\"关于我\",\"date\":\"2023-07-17 21:56:58\",\"description\":\" 介绍\\n欢迎来到我的个人博客！我是嘉诚，一名热爱生活的前端开发工程师。\\n在这里，我会和大家分享我的学习心得和实践经验，涉及数据结构、计算机网络、JavaScript、Vue.js、微信小程序等多方面的\",\"cover\":\"\"}},{\"route\":\"/sop/project\",\"meta\":{\"tag\":[\"SOP\"],\"sticky\":100,\"title\":\"项目汇总\",\"date\":\"2023-07-17 21:56:58\",\"description\":\"\\r\\n 仿掘金官网\\r\\n\\r\\n- Vue.js: 渐进式Javascript框架\\r\\n- Apifox: 充当后端, 提供mock数据\\r\\n\\r\\n Wecqu微信小程序\\r\\n\\r\\n- 原生微信小程序\\r\\n- Color\",\"cover\":\"\"}},{\"route\":\"/前端工程化/Vite 初探\",\"meta\":{\"tag\":[\"前端工程化\"],\"title\":\"前置\",\"date\":\"2023-07-30 15:13:25\",\"description\":\" 什么是构建工具\\n早期的开发者们，使用 HTML，CSS，JS 来进行网页的开发，当网站体量大了之后，这种传统的方式却带来了难以维护，样式不统一等等问题，由此产生了像 React，Vue 这样的 Fr\",\"cover\":\"\"}},{\"route\":\"/前端工程化/Webpack初探\",\"meta\":{\"tag\":[\"前端工程化\"],\"title\":\"Webpack 初探\",\"date\":\"2023-07-30 15:13:25\",\"description\":\" 核心概念\\n Entry：入口\\nEntry 指示 webpack 应该使用哪个模块，来作为构建其内部 依赖图(dependency graph) 的开始\\n`/** @type {import('web\",\"cover\":\"\"}},{\"route\":\"/前端工程化/起源\",\"meta\":{\"tag\":[\"前端工程化\"],\"title\":\"起源\",\"date\":\"2023-07-30 15:13:25\",\"description\":\"早期的开发者们，使用 HTML，CSS，JS 来进行网页的开发，当网站体量大了之后，这种传统的方式却带来了难以维护，样式不统一等等问题，由此产生了像 React，Vue 这样的 Framework，协\",\"cover\":\"\"}}],\"author\":\"Luminous\",\"friend\":[{\"nickname\":\"Vitepress\",\"des\":\"Vite & Vue Powered Static Site Generator\",\"avatar\":\"https://img.cdn.sugarat.top/mdImg/MTY3NDk5NTI2NzY1Ng==674995267656\",\"url\":\"https://vitepress.vuejs.org/\"}],\"recommend\":{\"showSelf\":true},\"search\":\"pagefind\",\"mermaid\":false},\"sidebar\":[{\"text\":\"\",\"items\":[]}],\"lastUpdatedText\":\"上次更新于\",\"footer\":{\"message\":\"每天前进 30 公里\",\"copyright\":\"MIT Licensed | <a target=\\\"_blank\\\" href=\\\"https://github.com/jiacheng-coder/my-blog\\\"> @luminous/docs </a>\"},\"logo\":\"/logo.png\",\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"关于我\",\"link\":\"/sop/introduce.html\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/jiacheng-coder\"}]},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>